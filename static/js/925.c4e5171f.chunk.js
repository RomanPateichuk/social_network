"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[925],{925:(e,s,r)=>{r.r(s),r.d(s,{ChatPage:()=>n});var t=r(2791),a=r(2177),c=r(1076),l=r(184);const n=()=>(0,l.jsx)("div",{children:(0,l.jsx)(i,{})}),i=()=>{const e=(0,a.I0)(),s=(0,a.v9)((e=>e.chat.status));return(0,t.useEffect)((()=>(e((0,c.WE)()),()=>{e((0,c.R7)())})),[]),(0,l.jsxs)("div",{children:["error"===s&&(0,l.jsx)("div",{children:"Some error occurred. Please refresh page"}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{}),(0,l.jsx)(d,{})]})]})},o=()=>{const e=(0,t.useRef)(null),s=(0,a.v9)((e=>e.chat.messages)),[r,c]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{var s;r&&(null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"}))}),[s]),(0,l.jsxs)("div",{onScroll:e=>{const s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<300?!r&&c(!0):r&&c(!1)},style:{height:"400px",overflowY:"auto"},children:[s.map(((e,s)=>(0,l.jsx)(h,{message:e},e.id))),(0,l.jsx)("div",{ref:e})]})},h=t.memo((e=>{let{message:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{style:{width:"30px"},src:s.photo,alt:"avatar"})," ",(0,l.jsx)("b",{children:s.userName}),(0,l.jsx)("br",{}),(0,l.jsx)("b",{children:s.message}),(0,l.jsx)("hr",{})]})})),d=()=>{const[e,s]=(0,t.useState)(""),r=(0,a.I0)(),n=(0,a.v9)((e=>e.chat.status));return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{onChange:e=>s(e.currentTarget.value),value:e})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{disabled:"ready"!==n,onClick:()=>{e&&(r((0,c.bG)(e)),s(""))},children:"Send"})})]})}}}]);
//# sourceMappingURL=925.c4e5171f.chunk.js.map